<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>认识事件循环</h1>
  <p>
    js如何安排 和 运行js代码的
    <br>
    负责执行、收集、和处理事件以及执行队列中的子任务
    <br>执行代码和收集异步任务，在调用栈空闲时，反复调用任务队列里回调函数执行机制
  </p>
  <p>
    js为什么有事件循环 ? 
    <br>
    JavaScript 是单线程的，为了不阻塞 JS 引擎，设计执行代码的模型
  </p>
  <h2>js内代码如何执行 ?</h2>
  <p style="color: aqua;">
    执行同步代码，遇到异步代码交给宿主浏览器环境执行
    <br> 异步有了结果后，把回调函数放入任务队列排队
    <br> 当调用栈空闲后，反复调用任务队列里的回调函数
  </p>

  <h1>宏任务 和 微任务</h1>

  <h2>宏任务</h2>
  <p>
    由浏览器环境执行的异步代码
  </p>
  <h2>微任务</h2>
  <p>
    由js 引擎环境执行执行的序列
  </p>

  <h2>调度的顺序</h2>
  <p style="color: red; background-color: #fff;">
    宏任务每次在执行同步代码时，产生微任务队列，清空微任务队列任务后，微任务队列空间释放！
    <br>
    下一次宏任务执行时，遇到微任务代码，才会再次申请微任务队列空间放入回调函数消息排队
    <br>
    总结：一个宏任务包含微任务队列，他们之间是包含关系，不是并列关系
  </p>



</body>
</html>